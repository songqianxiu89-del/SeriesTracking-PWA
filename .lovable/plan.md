

# 追剧记录 PWA - 实现计划（更新版）

## 概述
一个个人追剧记录网站，以PWA形式部署，安装到iPhone上像原生应用一样使用。数据存储在本地（localStorage），支持手动备份导入导出。

---

## 第一阶段：核心数据与首页

### 1. 数据层搭建
- 使用 localStorage 存储所有数据（剧集、笔记、标签、设置）
- 封装统一的数据读写工具函数
- 封面图和笔记图片均以 Base64 形式存储在本地

### 2. 首页 - "正在看" 与 "已追完"
- **正在看列表**：卡片式展示，左侧显示封面图缩略图，右侧显示剧名、进度（如S1E4）、标签、平台
- **已追完列表**：折叠展示，显示完成日期和标签
- **拖拽排序**：支持手动拖拽调整"正在看"列表的顺序
- 底部导航栏：首页 / 设置

### 3. 添加新剧
- 点击"+"按钮弹出表单弹窗
- 输入字段：作品名称、类型（固定选项+自定义）、平台（Netflix/Disney+/B站等+自定义）、初始进度（季/集或时间点）、总集数、标签（自由创建多个）、封面图上传

---

## 第二阶段：详情页与笔记

### 4. 作品详情页
- **信息卡**：封面图、剧名、类型、平台、状态、标签
- **进度卡**：当前进度显示 + 进度条百分比 + "更新进度"按钮
- **标记已追完**：一键标记，自动归档到"已追完"列表

### 5. 笔记系统
- 为每部作品添加笔记，支持标题、正文、关键词、场景亮点
- **笔记支持插入图片**：用户可从相册选取图片嵌入笔记中，图片以 Base64 存储，在笔记正文中内联显示
- 笔记按时间倒序显示，自动记录日期
- 支持编辑和删除笔记

### 6. 日历视图
- 在详情页展示日历，标注有笔记的日期
- 点击日期查看当天的笔记内容和对应进度

---

## 第三阶段：设置与数据管理

### 7. 设置页面
- **手动备份**：导出所有数据为JSON文件下载
- **数据导入**：上传JSON文件恢复数据
- **数据清理**：清除已删除作品的残留数据
- **标签管理**：查看、编辑、删除所有标签
- **更新提醒设置**：开关控制是否提醒更新进度

### 8. 详情页数据管理
- 删除作品（确认弹窗）
- 单个作品的导出/导入功能

---

## 第四阶段：PWA 与体验优化

### 9. PWA 配置
- 配置 Service Worker 实现离线访问
- 添加 Web App Manifest（图标、启动画面、主题色）
- 适配 iPhone "添加到主屏幕"，全屏独立运行

### 10. UI 风格与交互
- **设计风格**：简洁清晰，深浅色对比，sans-serif 字体
- **响应式设计**：优先适配 iPhone 屏幕尺寸
- **交互反馈**：按钮点击反馈、拖拽动画、状态切换过渡动画
- **移动端优化**：底部导航栏、触摸友好的操作区域

